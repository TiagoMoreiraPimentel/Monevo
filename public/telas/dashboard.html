<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Monevo - Painel Principal</title>
  <link rel="stylesheet" href="../css/global.css" />
  <link rel="stylesheet" href="../css/dashboard.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <script src="../js/dashboard.js" defer></script>
</head>
<body>
  <aside class="sidebar" id="sidebar">
    <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
    <nav class="menu-opcoes">
      <button id="admin-only" class="hidden">Gerenciar Usuários</button>
      <button onclick="window.location.href='/telas/contas.html'">Gerenciar Contas</button>
      <button onclick="window.location.href='/telas/transacoes.html'">Transações</button>
      <button onclick="logout()">Sair</button>
    </nav>
  </aside>

  <main class="main-content">
    <header class="header-bar">
      <img src="../img/logo-monevo.png" alt="Monevo" class="logo-header" />
      <span id="saudacao">Olá, usuário</span>
      <button class="mobile-toggle" onclick="toggleSidebar()">☰</button>
    </header>

    <section class="conteudo">
      <h2>Resumo Financeiro</h2>

      <div class="filtros-relatorio">
        <label for="mes">Mês:</label>
        <select id="mes">
          <option value="01">Janeiro</option>
          <option value="02">Fevereiro</option>
          <option value="03">Março</option>
          <option value="04">Abril</option>
          <option value="05">Maio</option>
          <option value="06">Junho</option>
          <option value="07">Julho</option>
          <option value="08">Agosto</option>
          <option value="09">Setembro</option>
          <option value="10">Outubro</option>
          <option value="11">Novembro</option>
          <option value="12">Dezembro</option>
        </select>

        <label for="ano">Ano:</label>
        <select id="ano">
          <option value="2021">2021</option>
          <option value="2022">2022</option>
          <option value="2023">2023</option>
          <option value="2024">2024</option>
          <option value="2025" selected>2025</option>
        </select>

        <button onclick="carregarResumo()">Aplicar Filtro</button>
      </div>

      <div class="resumo-valores">
        <p><strong>Total Receitas:</strong> R$ <span id="total-receitas">0,00</span></p>
        <p><strong>Total Despesas:</strong> R$ <span id="total-despesas">0,00</span></p>
        <p><strong>Saldo:</strong> R$ <span id="saldo">0,00</span></p>
      </div>

      <div class="grafico-bloco">
        <h3>Distribuição por Categoria</h3>
        <button class="btn-toggle-grafico" onclick="toggleGrafico('grafico-categorias-wrapper')">Ver Gráfico</button>
        <div class="grafico-wrapper" id="grafico-categorias-wrapper">
          <canvas id="grafico-categorias"></canvas>
        </div>
      </div>

      <div class="grafico-bloco">
        <h3>Receitas vs Despesas</h3>
        <button class="btn-toggle-grafico" onclick="toggleGrafico('grafico-linhas-wrapper')">Ver Gráfico</button>
        <div class="grafico-wrapper" id="grafico-linhas-wrapper">
          <canvas id="grafico-linhas"></canvas>
        </div>
      </div>

      <div class="grafico-bloco">
        <h3>Movimentações por Tipo de Conta</h3>
        <button class="btn-toggle-grafico" onclick="toggleGrafico('grafico-conta-wrapper')">Ver Gráfico</button>
        <div class="grafico-wrapper" id="grafico-conta-wrapper">
          <canvas id="grafico-conta"></canvas>
        </div>
      </div>
    </section>

    <footer>
      &copy; 2025 Monevo. Todos os direitos reservados.
    </footer>
  </main>
</body>
</html>
